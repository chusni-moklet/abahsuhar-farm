<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hasil Tetasan</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-3 md:p-6 min-h-screen">

<div id="nav"></div>

<div class="max-w-md mx-auto">
<form id="form" class="bg-white p-4 md:p-6 rounded-xl shadow">
<h2 class="text-lg md:text-xl font-bold mb-4">üê£ Hasil Tetasan</h2>

<input type="date" id="tgl" class="input" required>
<select id="induk" class="input" required>
  <option value="">Pilih Jenis</option>
  <option>Mardi ORI</option>
  <option>Bangkodi</option>
  <option>Bangkok x Aseel</option>
</select>
<input type="number" id="menetas" placeholder="Menetas" class="input" required>
<input type="number" id="gagal" placeholder="Gagal" class="input" required>
<input type="text" id="ket" placeholder="Keterangan" class="input" required>

<button class="btn" id="btnSimpan">Simpan</button>
</form>
</div>

<script>
const URL = "https://script.google.com/macros/s/AKfycbyP2sIYSWEuYipv_hqMru_pIaoYJ9bG_RoZfCMormsy4NJp0ZgVDJs-HOxGbN91Q5FD9Q/exec";

fetch("navbar.html").then(r=>r.text()).then(t=>nav.innerHTML=t);

form.onsubmit=e=>{
e.preventDefault();
btnSimpan.disabled = true;
btnSimpan.innerHTML = '‚è≥ Menyimpan...';

fetch(URL,{
method:"POST",
body:JSON.stringify({
sheet:"TETASAN",
values:[tgl.value,menetas.value,induk.value,gagal.value,ket.value]
})
}).then(()=>{
alert("Data tersimpan");
form.reset();
}).catch(err=>{
alert("Gagal menyimpan: " + err.message);
}).finally(()=>{
btnSimpan.disabled = false;
btnSimpan.innerHTML = 'Simpan';
});
}
</script>

<style>
.input{width:100%;border:1px solid #ccc;padding:10px 12px;border-radius:8px;margin-bottom:10px;font-size:16px}
.btn{background:#16a34a;color:white;padding:12px;width:100%;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}
.btn:hover{background:#15803d}
.btn:disabled{background:#9ca3af;cursor:not-allowed}
@media (max-width: 640px) {
  .input{padding:12px;font-size:16px}
  .btn{padding:14px;font-size:16px}
}
</style>
</body>
</html>
